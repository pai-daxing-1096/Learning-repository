# Linux系统学习笔记

---

### 一.获取CentOS系统的地址

#### 1.在终端中输入命令` ifconfig`以获得网络地址信息，用于配置Finalshell的SSH连接

**注：现代版本已改为在终端中输入命令 `ip addr` 或 `ip a` 以获得网络地址信息**

#### 2.连接通过ip和用户名虚拟机

语法：`ssh 用户名@ip地址`

---

### 二.Linux的目录结构

- 在Linux系统中，路径之间的层级关系，使用`/`来表示
- 在Windows系统中，路径之间的层级关系，使用`\`来表示

#### 1.Linux

​	`/usr/local/hello.txt`

注意：

- 开头的`/`表示**根目录**
- 后面的`/`表示层级关系

#### 2.Windows:

​	`D:\data\work\hello.txt`

注意：

- `D:`表示D盘
- `\`表示层级关系

---

### 三.Linux命令入门

- 命令行：即Linux终端（Terminal)，是一种**命令提示符页面**。以纯**字符**的形式操作系统，可以使用各种字符化命
	令对系统发出操作指令。
- 命令：即Linux程序。一个命令就是一个**Linux的程序**。**命令没有图形化页面**，可以在命令行（终端中）提供字符化的反馈

#### 1.Linux命令基础格式

无论是什么命令，用于什么用途，在Linux中，命令有其通用的格式：

  `command [-options] [parameter]`

- **command:命令本身**
- **-options：[可选，非必填]命令的一些选项，可以通过选项控制命令的行为细节**
- **parameter:[可选，非必填]命令的参数，多数用于命令的指向目标等**

> 语法中的`[]`表示可选的意思

示例：

  `ls -l /home/itheima`：

- 其中`ls`是命令本身，`-l`是选项,`/home/itheima`是参数
	- **意思是以列表的形式，显示`/home/itheima`目录内的内容**

  `cp -r test1 test2`：

- 其中`cp`是命令本身，`-r`是选项，`test1`和`test2`是参数
	- **意思是复制文件夹`test1` 成为`test2`**

#### 2.ls命令

`ls`命令的作用是列出目录下的内容，**语法细节**如下:

  `ls [-a -l -h] [Linux路径]`

- `-a -l -h` 是可选的选项
	- `-a`:表示all的意思，即列出全部文件(包括**隐藏**[^2]的文件/文件夹)
	- `-l`:表示以列表的形式展示内容，并展示更多信息
	- `-h`:表示以易于阅读的形式，列出文件大小，如K、M、G

> 可以组合使用，例如：`ls -lah` 或 `ls -alh` 都等同于 `ls -l -a -h`

- Linux路径是此命令可选的参数

当不使用选项和参数，直接使用ls命令本体，表示：以平铺形式，列出当前工作目录[^1]下的内容

---

### 四.目录切换相关命令

#### 1.cd命令

**`cd`命令可以更改当前的工作目录**

语法:`cd [Linux路径]`

- `cd`命令无需选项，只有参数，表示要切在哪个目录下
- `cd`命令直接执行，不写参数，**表示回到用户的Home目录**

#### 2.pwd命令

**`pwd`命令可以查看当前所在的工作目录**

语法:`pwd`

- `pwd`命令，无选项，无参数，直接输入`pwd`即可
	- 该命令可以和ls命令同时使用，详情参考**Linux命令的顺序执行**[^3]

---

### 五.相对路径、绝对路径和特殊路径符

#### 1.相对路径和绝对路径

- 绝对路径：以根目录为起点，描述路径的一种写法，路径描述以`/`为开头

	例：`cd /home/itheima/Desktop`

- 相对路径：以当前目录为起点，描述路径的一种写法，路径描述无需以`/`为开头

​	例：`cd Desktop`

#### 2.特殊路径符

- `.`    表示当前目录，比如`cd ./Desktop`表示切换到当前目录下的Desktop目录内，和`cd Desktop`效果一致，其可以与`/`连同使用[^4]
- `..`   表示上一级目录，比如：`cd .. `即可切换到上一级目录，`cd ../..`切换到**上二级目录**，其可以与路径`/`直接连接使用[^4]
- `~`    表示HOME目录，比如：`cd ~`即可切换到HOME目录或`cd ~/Desktop`，切换到HOME内的Desktop目录

---

### 六.创建目录命令

#### 1.mkdir命令

**通过mkdir命令可以创建新的目录(文件夹)**

语法：`mkdir [-p] Linux路径`

- `Linux路径`必填，即参数，指定要创建的文件夹的路径，**相对路径或绝对路径均可**
- `-p`选项可选，表示自动创建不存在的父目录，适用于创建连续多层级的目录

​	例：`mkdir -p itcast/good/666`

​	**注：其中itcast文件与good文件仅作为演示参考而专门创建的文件**

---

### 七.文件操作命令

#### 1.使用touch命令创建文件

可以通过`touch`命令创建**文件**

语法：`touch Linux路径`

- `touch`命令无选项，参数必填，表示要创建的文件路径，相对、绝对、特殊路径符均可使用

#### 2.使用cat、more和less查看文件内容

##### **(1)`cat`命令**

可以通过cat命令查看内容

语法：`cat [-n] [-A] Linux路径`

- `-n`   显示行号
- `-A`   显示所有符号

##### **(2)`more`命令**

同样可以查看文件内容，**但是如果文件过多，将会一页一页地展示**

语法：`more Linux路径`

- `more`命令同样没有选项，只有必填参数，参数表示：被查看文件的路径，相对、绝对、特殊路径符均可使用
- 可以使用**`空格`**向下翻一页，**`Enter`**向下翻一行，**`q`**退出

##### (3)`less`命令

同样可以查看文件内容，如果文件过多，将会一页一页地展示，除此之外，还有向上翻页的功能

语法：`less Linux路径`

- `less`命令同样没有选项，只有必填参数，参数表示：被查看文件的路径，相对、绝对、特殊路径符均可使用
- 可以使用**`空格`**向下翻一页，**`b`**向上翻一页,**`Enter`**翻一行，**`q`**退出，**`/关键词`**搜索内容,**`Page Up/Page Down`**逐行滚动

---

### 八.文件复制、移动和删除命令

#### 1.cp命令

`cp`命令用于复制文件\文件夹

语法：`cp [-r] 参数1 参数2`

- `-r`   可选，用于复制**文件夹**的使用，表示递归
- `参数1`   Linux路径，表示被复制的文件或者文件夹
- `参数2`   Linux路径，表示要复制去的地方

#### 2.mv命令

`mv`命令可以用于移动文件\文件夹

语法：`mv 参数1 参数2`

- `参数1`   Linux路径，表示被移动的文件或者文件夹
- `参数2`   Linux路径，表示要移动去的地方，如果目标不存在，则进行改名，确保目标存在

#### 3.rm命令

`rm`命令可用于删除文件\文件夹

语法：`rm [-r -f] 参数1 参数2 ...... 参数N`

- `-r`   同`cp`命令意义，`-r`选项用于删除**文件夹**

- `-f`   表示force，强制删除(不会弹出提示确认信息)

  - 普通用户删除**只读文件**或**不存在文件**时会弹出提示，使用`-f`可强制跳过
  - root管理员用户删除内容默认不会有提示
  - > [!WARNING]
  	>
  	> **极度危险**

- `参数1`、`参数2`、……、`参数N表示要删除的文件或文件夹路径，**按照空格隔开**

---

### 九.通配符

`rm`命令支持通配符`*`,即匹配任意内容

- `text*`   表示匹配任何以`text`为开头的内容
- `*text`   表示匹配任何以`text`为结尾的内容
- `*text*`   表示匹配任何包含`text`的内容

---

### 十.Linux的root账户

#### 1.su命令

使用`su`命令可以临时切换至超级管理员用户

语法：`su - root`或`su -i`

- `su - root` 会完全切换到root环境（包括环境变量）
- 也可以使用 `sudo -i` 直接获取root shell

#### 2.exit命令

使用`exit`命令可以退回至普通用户

语法：`exit`

- 在使用完成后，输入`exit`可以直接退回普通用户
- **切记在每次使用完成后一定要退回普通用户**

#### 3.sudo命令

可以临时以root账户的身份执行命令

语法：`sudo 其它命令`

- 普通用户需要配置root认证才可以使用
- 执行`visudo`命令，然后在文件末尾添加：`用户名 ALL=(ALL)    NOPASSWD:ALL`后使用`wq`退出即可

---

### 十一.查找命令

#### 1.which命令

可以查看所使用的一系列命令的程序文件存放在哪里

语法：`which 要查找的命令`

#### 2.find命令

可以使用`find`命令去搜索指定文件

语法：`find 起始路径 -name “被查找文件名”`

​            `find 起始路径 -size +/-n[kMG]`

- `+、-`   表示大于小于
- `n`   表示大小数字
- `kMG`   表示大小单位，`k`表示`kb`,`M`表示`Mb`，`G`表示`Gb`

---

### 十二.grep、wc和管道符

#### 1.grep命令

可以通过`grep`命令，从文件中通过关键字过滤文件行

语法：`gerp [-n] 关键字 文件路径`

- `-n`   可选，表示在结果中显示匹配的行的行号
- `关键字`   必填，表示过滤的关键字，带有空格或者其它特殊符号，建议用`“ ”`将它包围起来
- `文件路径`   必填，表示要过滤内容的文件路径，**可作为内容输入端口**

#### 2.wc命令

可以通过`wc`命令统计文件的行数、单词数量等

语法：`wc [-c -m -l -w] 文件路径`

- `-c`   统计bytes数量（行数）
- `-m`   统计字符数量
- `-l`   统计行数
- `-w`   统计单词数量
- `文件路径`   被统计的文件，**可作为内容输入端口**

#### 3.管道符

可以将管道符`|`左边的命令的结果，作为右边命令的参数

语法：`命令 | 命令`

- 过程为线性处理方式，所以可以连续使用

---

### 十三.在命令行输出指定内容

#### 1.echo命令

可以使用`echo`命令在命令行中输出指定内容

语法：`echo 指定内容`

- 如果`指定内容`过于复杂(包含`\`等特殊符号)，则需使用**双引号**`“”`包围`指定内容`
- 若希望输出命令将会执行的结果，则需使用**反引号**` `` `包围命令

---

### 十四.重定向符

#### 1.>与>>命令

- `>`   将左边命令的结果，覆盖写入到右边的文件中
- `>>`   将左边命令的结果，追加写入到右边的文件中

---

### 十五.从尾部开始查找文件尾部内容并监控文件新增内容

#### 1.tail命令

使用`tail`命令可以查看文件尾部内容，并且监控文件新增内容

语法：`tail [-f -num] Linux文件路径`

- `-f`   表示持续监控跟踪
- `-num`   表示查看尾部多少行，默认为10行
- `Linux文件路径`   表示被查看的文件的位置

---

### 十六.vi\vim编辑器

#### 1.可以通过`vi` \ `vim`启动编辑器编辑文件

语法：`vi 文件路径`

语法：`vim 文件路径`

- vim兼容了vi的全部功能
- 如果目标文件不存在，则会创建一个文件进行操作
- 如果目标文件存在，则会编辑此文件

#### 2.vim编辑器的命令模式快捷键

- **i** -- 切换到输入模式，在光标当前位置开始输入文本。
- **esc** --切换到命令模式
- **x** -- 删除当前光标所在处的字符。
- **:** -- 切换到底线命令模式，以在最底一行输入命令。
- **a** -- 进入插入模式，在光标下一个位置开始输入文本。
- **o**：在当前行的下方插入一个新行，并进入插入模式。
- **O** -- 在当前行的上方插入一个新行，并进入插入模式。
- **dd** -- 剪切当前行。
- **yy** -- 复制当前行。
- **p**（小写） -- 粘贴剪贴板内容到光标下方。
- **P**（大写）-- 粘贴剪贴板内容到光标上方。
- **u** -- 撤销上一次操作。
- **Ctrl + r** -- 重做上一次撤销的操作。
- **:w** -- 保存文件。
- **:q** -- 退出 Vim 编辑器。
- **:q!** -- 强制退出Vim 编辑器，不保存修改。
- **:set nu** -- 显示行号

---

### 十七.用户和用户组管理

Linux系统中可以添加多个用户和用户组，且一个用户可以加入到多个用户组中，只有root用户才有权限使用

#### 1.groupadd命令

创建用户组

语法：`groupadd 用户组名`

#### 2.groupdel命令

删除用户组

语法：`groupdel 用户组名`

#### 3.useradd命令

创建用户

语法：`useradd [-g 已存在的用户组名] [-d HOME路径]`

- `[-g 已存在的用户组]`   将用户添加至指定的用户组，若未指定则创建同名的用户组并加入
- `[-d HOME路径]`   指定用户的HOME路径，若未指定，则默认添加至`\HOME\用户名`

#### 4.userdel命令

删除用户

语法：`userdel [-r] 用户名`

- `[-r]`   使用时，若添加`-r`则一同删除该用户的HOME目录，反之则保留

#### 5.id命令

查看用户信息

语法：`id [用户名]`

- `用户名`   若指定，则查看指定用户的信息，反之则查看自身的用户信息

#### 6.usermod

将指定用户转移至指定用户组

语法：`usermod -aG 用户组名 用户名`

- **是用户组名接用户名，而不是用户名到用户组名**

---

### 十八.查看权限控制

使用`ls -l`命令可以查询当前目录信息，其中包含权限信息

`drwxrwxrwx 用户 用户组名`

- `d/-/l`   这是第一部分，代表着文件信息，`d`代表目录，`-`代表普通文件,`l`代表软链接
- `r/- w/- x/-`    这是第二部分，代表着所属用户的权限，`r`代表可读，`w`代表可修改，`x`代表可操作，`-`则是无该权限
- `r/- w/- x/-`    这是第三部分，代表着所属用户组的权限，`r`代表可读，`w`代表可修改，`x`代表可操作，`-`则是无该权限
- `r/- w/- x/-`    这是第四部分，代表着所属其它用户的权限，`r`代表可读，`w`代表可修改，`x`代表可操作，`-`则是无该权限
- `用户`    代表此文件属于该用户
- `用户组`    代表此文件属于该用户组

---

### 十九.文件权限修改

#### 1.chmod命令

可以通过chmod命令修改权限信息，只有root用户有资格使用

语法：`chmod [-R] u= g= o= 文件或文件夹`

- `[-R]`   表示对该文件夹内的所有内容都进行相同操作
- `u`   表示所属用户的权限
- `g`   表示所属用户组的权限
- `o`   表示其它用户的权限

示例：

`chmod -R u=rws,g=rw,o=x`

此外，可以用数字来替代

- `r=4 w=2 x=1`

示例：

`chmod -R 721`

---

### 二十.用户和用户组权限的修改

可以通过`chown`命令修改文件、文件夹所属的用户和用户组，该命令只有root用户可以执行

语法：`chown [-R] [用户]:[用户组] 文件或文件夹`

- `[-R]`   通`chmod`命令一样，表示将该文件夹内的所有内容都进行相同操作
- `用户`   表示修改所属用户
- `用户组`   表示修改所属用户组
- `:`   分隔用户和用户组

---

### 二十一.软件安装

#### 1.yum命令

用于自动化安装配置Linux软件

语法：`yum [-y] install | remove | search 软件名称`

- `-y`   自动确认，无需手动确认安装或卸载流程
- `install`   安装
- `remove`   卸载
- `search`   搜索

---

### 二十二.控制软件的服务

#### 1.systemctl命令

操控服务

语法：`systemctl start | stop | status | enable | disable 服务的名称`

- `start`   启动
- `stop`   关闭
- `status`   查看状态
- `enable`   开启开机自启
- `disable`   关闭开机自启

---

### 二十三.软链接

类似快捷方式

#### 1.ln命令

将文件、文件夹链接到其它位置

语法：`ln -s 参数1 参数2`

- `-s`   创建软链接
- `参数1`   被链接的文件或者文件夹
- `参数2`   要链接去的目的地

---

### 二十四.日期和时间

#### 1.date命令

可以查看系统的日期和时间

语法：`date [-d] [+格式化字符串]`

- `-d`   按照指定的字符串显示日期，一般用于日期计算
- `格式化字符串`   通过特定的字符串标记，用来控制日期格式
	- `%Y`   年
	- `%y`   年份后的两位数字
	- `%m`   月份
	- `%d`   日
	- `%H`   小时
	- `%M`   分钟
	- `%S`   秒
	- `%s`   自1970-01-01 00:00:00 UTC到现在的秒数
- **日期的格式化字符串间隔为`-`，时间的格式化字符串间隔为`:`** 

#### 2.手动校准时间

语法：`ntpd -u ntp.aliyun.com`

---

### 二十五.IP地址和主机名

#### 1.IP地址

##### (1)两个常见IP：

- 127.0.0.1	
	- 本机IP地址，相当于**回环接口**，若使用则会访问本机
- 0.0.0.0
	- 可以指代本机地址
	- 可以用于绑定，例如：监听所有客户端的请求
	- 开放放行规则，例如：防火墙中使用则代表信任仍和IPv4地址的流量

#### 2.主机名

##### (1)获取主机名

语法：`hostname`

##### (2)修改主机名

语法:`hostnamectl srt-hostname 主机名`

---

### 二十六.网络请求和下载

#### 1.ping命令

语法:`ping [-c num] ip或主机名`

- `-c`   设置检查的次数

#### 2.nslookup命令

用于通过ip反向获取域名

语法:`nslookup ip`

#### 3.wget命令

帮助用户在命令行内下载网络文件

语法：`wget [-b] [-c] [-t num] url`

- `-b`   后台下载，会将日志写入当前工作目录中的wget-log文件
- `-c`   断点续传，继续执行下载命令
- `-t`   设置重试次数 
- `url`   下载链接

#### 4.curl命令

发送http网络请求，用于下载文件或者获取文件信息

语法：`curl [-O] [-o 文件名] url`

- `-O`   大写，用于下载文件，使用服务器原始文件名
- `-o`   小写，用于下载文件，使用自定义保存文件名,**一般用这个**
- `url`    要发起请求的网络地址

---

### 二十七.端口

- 公认端口：1~1023，常用于系统设置或知名程序的预留使用，非必要不要使用
- 注册端口：1024~49151，用于松散地绑定一些程序\服务，通常可以随意使用
- 动态端口：49152~65535，通常不会固定绑定程序，当程序对外进行网络链接时用于临时使用

#### 1.nmap命令

查看端口占用情况

语法：`nmap 被查看的ip地址`

#### 2.netstat命令

查看指定端口占用情况

语法：`netstat -(anp|tlnp)|grep 端口号\进程号`

---

### 二十八.进程管理

#### 1.ps命令

通过`ps`命令查看Linux系统中的进程信息

语法：`ps [-e -f -l]`

- `-e`   显示出全部进程
- `-f`   展示全部信息
- `-l`   长格式
- `pa -aux | grep 进程名   常用于查找进程

#### 2.kill命令

通过`kill`命令关闭进程

语法：`kill [-9] 进程ID`

- `-9`   代表强制关闭进程

---

### 二十九.监控主机状态

#### 1.top命令

通过`top`命令查看CPU、内存使用情况，每隔5s刷新一次，使用`q`或者ctrl+c退出

语法：`top`

- **top:**命令名称
- **14:39:58:**当前系统时间
- **up 6 min:**启动了6分钟
- **2 users:**2个用户登录
- **load:**1、5、15分钟负载
- **Tasks:**175个进程
- **1 running:**1个进程子在运行，
- **174 sleeping**:174个进程睡眠，0个停止进程，0个僵尸进程
- **%Cpu(s):**CPU使用率
- ==**us:**用户CPU使用率==
- ==**sy:**系统CPU使用率==
- **ni:**高优先级进程占用CPU时间百分比，
- **id:**空闲CPU率
- **Wa:IO**等待CPU占用率
- **hi:**CPU硬件中断率
- **si:**CPU软件中断率
- **st:**强制等待占用CPU率
- **Kib Mem:**物理内存
- **total:**总量
- ==**free:**空闲==
- ==**used:**使用==
- **buff/cache:** buff和cache占用
- **KibSwap:**虚拟内存（交换空间)
- **total:**总量
- **free:**空闲
- **used:**使用
- **buff/cache:** buff和cache占用

![image-20251127172750517](C:/Users/24846/AppData/Roaming/Typora/typora-user-images/image-20251127172750517.png)

![image-20251127172844960](C:/Users/24846/AppData/Roaming/Typora/typora-user-images/image-20251127172844960.png)

#### 2.df命令

查看磁盘使用情况

语法：`df [-h]`

- `-h`   更加人性化的单位显示

#### 3.iostat命令

查看CPU、磁盘相关信息

语法：`iostat [-x][num1][num2]`

- `-x`   显示更多信息
- `num1`   刷新间隔
- `num2`   刷新次数

#### 4.sar命令

网络状态监控

语法：`sar -n DEV num1 num2`

- `-n`   查看网络
- `DEV`   查看网络接口
- `num1`   刷新间隔
- `num2`   刷新次数

---

### 三十.环境变量

#### 1.env命令

查看当前系统中的环境变量

语法：`env`

#### 2.$符号

获取变量的值

语法：`$环境变量名`

- 可以配合命令`echo`获取

#### 3.export命令

自行设置环境变量（临时）

语法：`export 变量名=变量值`

##### （1）令自行设置的环境变量永久生效

- 针对当前用户生效，配置在当前用户的：~/.bashrc文件中

- 针对所有用户生效，配置在系统的：/etc/profile文件中

- 并通过语法：source配置文件，进行立刻生效，或重新登录FinalShell生效

##### （2）将自行设置的变量添加进PASH搜索目录中

语法：`export PATH=$PATH:变量路径`

- `$PATH:`   追加而并非替代

---

### 三十一.文件的上传和下载

#### 1.rz命令

将宿主机上的文件上传至Linux系统中

语法：`rz`

#### 2.sz命令

将Linux系统中的文件传输至宿主机中

语法：`sz 文件路径`

#### 3.scp命令

将宿主机上的文件上传或下载至Linux系统中

语法：`scp [选项] [源文件] [目标]`

| 选项      | 说明                       | 示例                                       |
| :-------- | :------------------------- | :----------------------------------------- |
| `-P 端口` | 指定 SSH 端口              | `scp -P 2222 file user@host:path`          |
| `-r`      | 递归复制目录               | `scp -r dir user@host:path`                |
| `-p`      | 保留文件属性（时间、权限） | `scp -p file user@host:path`               |
| `-C`      | 压缩传输                   | `scp -C largefile user@host:path`          |
| `-q`      | 安静模式（不显示进度）     | `scp -q file user@host:path`               |
| `-v`      | 详细模式（调试）           | `scp -v file user@host:path`               |
| `-l 限速` | 限制带宽（Kbit/s）         | `scp -l 100 file user@host:path`           |
| `-i 密钥` | 使用指定密钥文件           | `scp -i ~/.ssh/id_rsa file user@host:path` |

---

### 三十二.压缩和解压

#### 1.tar命令

使用`tar`命令对于文件进行压缩和解压

语法：`tar [-c -v -x -f -z] 参数1 参数2 ... 参数N [-C] 要解压去的地方`

- `-c`   创建压缩文件，用于压缩模式
- `-v`   显示压缩、解压过程，用于查看进度
- `-x`   解压模式
- `-f`   要创建的文件，或要解压的文件，-f选项必须在所有选项中位置处于最后一个
- `-z`   gzip模式，不使用-z就是普通的tarball格式,-z必须再所有选项中位置处于第一个，如果不加-z则只需使用.tar后缀，若加-z则需使用.tar.gz或者.gz的后缀
- `-C`   选择解压的目的地，用于解压模式

#### 2.zip命令

使用`zip`命令对于文件进行压缩

语法：`zip [-r] 参数1 参数2 ... 参数N`

- `-r`   若被压缩的文件包含文件夹时使用

#### 3.unzip命令

使用`unzip`命令对于文件进行解压

语法：`unzip 参数 [-d] 要解压去的地方`

- `-d`   指定要解压到的位置

---

### 三十三.后台执行

#### 1.基本用法

语法：`./脚本名 &`

- 立即返回终端控制权
- 脚本将在后台运行
- **输出仍然会显示在终端**

#### 2.nohub命令

忽略挂起信号

语法：`nohub ./脚本名 &`

- 终端关闭后脚本依然会继续执行
- 默认输出到`nohub.out`文件

#### 3.disown命令

脱离终端

语法：`disown`

#### 4.setsid命令

执行新会话

语法：`setsid ./脚本名`

让脚本在一个完全独立的会话中运行

---

### 三十四.会话控制

#### 1.查看当前所有会话

语法：`who`

#### 2.关闭指定会话

语法：`pkill -t pts/n`

- `n`   数字，指定会话

#### 3.将指定会话替换为实际终端

语法：`pkill -u pts/n`

- `n`   数字，指定会话

---

### 三十五.文本处理

```
# sort - 去重
sort file.txt                    # 默认按行首字母排序
sort -n file.txt                 # 按数值排序
sort -r file.txt                 # 反向排序
sort -u file.txt                 # 排序并去重

sort -t: -k3 -n /etc/passwd      # 按第三列(UID)数值排序
sort -t, -k2,2 -k1,1 file.csv    # 先按第二列，再按第一列
sort -f file.txt                 # 忽略大小写
sort -R file.txt                 # 随机排序
```

```
# 注意：uniq通常需要先排序
sort file.txt | uniq             # 去重
sort file.txt | uniq -c          # 统计重复次数
sort file.txt | uniq -d          # 只显示重复的行
sort file.txt | uniq -u          # 只显示不重复的行

# 配合其他选项
sort file.txt | uniq -i          # 忽略大小写
sort file.txt | uniq -f 2        # 跳过前2个字段比较
```

```
# head - 查看开头
head file.txt                    # 前10行
head -n 20 file.txt              # 前20行
head -c 100 file.txt             # 前100个字节

# tail - 查看结尾
tail file.txt                    # 后10行
tail -n 20 file.txt              # 后20行
tail -f /var/log/syslog          # 实时跟踪日志（重要！）

# 组合使用
head -n 100 file.txt | tail -n 20  #
查看第81-100行
```

---

### 三十六.定时任务

#### 1.at命令

语法：`at 时间`

| 时间格式   | 解释                 |
| ---------- | -------------------- |
| HH:MM      | 小时:分钟            |
| YYYY-mm-dd | 年-月-日             |
| noon       | 中午12点             |
| midnight   | 晚上12点             |
| teatime    | 下午茶时间，下午四点 |
| tomorrow   | 明天                 |
| now+1min   | 一分钟后             |

- `ctrl+D`   提交任务
- `at -l`   列出等待中的作业
- `at -d 任务编号`   删除指定任务
- `at -c 任务编号`   查看任务的具体命令

---

### 三十七.邮件

#### 1.启动邮箱服务

1. 检查服务器端口,25号邮件端囗是否打开,(centOS5 是 sendmail,centOS6,centOS7是postfix服务)

`netstat -tlnp | grep :25`

2. 如果未启动25号端口则需要启动postfix服务

`vim /etc/postfix/main.cf`

3. 修改文件中的如下参数：

`inet_interfaces = all`
`inet_protocols = all`

4. 接着启动postfix服务

`systemctl start postfix`

#### 2.mali命令

用于检查邮件,输入命令后可以通过输入邮件编号查看指定邮件

查看邮件：

- `mail`   进入邮件列表
- `数字`   查看第N封邮件
- `d 数字`   删除第N封邮件

- `q`   退出并报存已读邮件到mbox
- `x`   退出不更改

发送邮件：

- `mail -s "主题" 用户名@主机名 < 文件.txt(读取文本文件中的内容并发送)`
- `echo "正文" | mail -s "主题" 用户名@主机名`
- `mail -s "主题" 用户名@主机名`   输入正文，然后`Ctrl+D`结束

#### 3.malix命令

语法：

`mailx -s "邮件主题" 用户名@主机名`   输入正文，然后`Ctrl+D`结束或者`.`后`ENTER`发送

`echo "正文" | mailx -s "主题" 用户名@主机名`

#### 4.邮件存储位置

新邮件存放位置:

`/var/spool/mail/用户名`

已读邮件存放位置（退出时按q保存）:

`~/mbox`


---

#### 以下是脚注：

[^1]:每个Linux操作用户在Linux系统的个人账户目录，路径在：/home/用户名
[^2]:以`.`开头的，表示是Linux系统的隐藏文件/文件夹（只要以.开头，就能自动隐藏）
[^3]:Linux命令可以使用`；`和`&&`进行分隔。其中`；`是“无论前一个命令成功还是失败，都会执行下一个命令”；而`&&`是“只有前一个命令成功后才会执行下一个命令，如果中途有命令出错，则会停止运行，不再执行后面的命令”
[^4]:`./`表示”当前目录下的指定位置，如 `./project`“；`../` 表示”上一级目录下的指定位置，如 `../documents`”
