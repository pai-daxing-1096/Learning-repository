# Linux系统学习笔记

---

### 一.获取CentOS系统的地址

在终端中输入命令` ifconfig`以获得网络地址信息，用于配置Finalshell的SSH连接

**注：现代版本已改为在终端中输入命令 `ip addr` 或 `ip a` 以获得网络地址信息**

---

### 二.Linux的目录结构

- 在Linux系统中，路径之间的层级关系，使用`/`来表示
- 在Windows系统中，路径之间的层级关系，使用`\`来表示

#### 1.Linux

​	`/usr/local/hello.txt`

注意：

- 开头的`/`表示**根目录**
- 后面的`/`表示层级关系

#### 2.Windows:

​	`D:\data\work\hello.txt`

注意：

- `D:`表示D盘
- `\`表示层级关系

---

### 三.Linux命令入门

- 命令行：即Linux终端（Terminal)，是一种**命令提示符页面**。以纯**字符**的形式操作系统，可以使用各种字符化命
	令对系统发出操作指令。
- 命令：即Linux程序。一个命令就是一个**Linux的程序**。**命令没有图形化页面**，可以在命令行（终端中）提供字符化的反馈

#### 1.Linux命令基础格式

无论是什么命令，用于什么用途，在Linux中，命令有其通用的格式：

  `command [-options] [parameter]`

- **command:命令本身**
- **-options：[可选，非必填]命令的一些选项，可以通过选项控制命令的行为细节**
- **parameter:[可选，非必填]命令的参数，多数用于命令的指向目标等**

> 语法中的`[]`表示可选的意思

示例：

  `ls -l /home/itheima`：

- 其中`ls`是命令本身，`-l`是选项,`/home/itheima`是参数
	- **意思是以列表的形式，显示`/home/itheima`目录内的内容**

  `cp -r test1 test2`：

- 其中`cp`是命令本身，`-r`是选项，`test1`和`test2`是参数
	- **意思是复制文件夹`test1` 成为`test2`**

#### 2.ls命令

`ls`命令的作用是列出目录下的内容，**语法细节**如下:

  `ls [-a -l -h] [Linux路径]`

- `-a -l -h` 是可选的选项
	- `-a`:表示all的意思，即列出全部文件(包括**隐藏**[^2]的文件/文件夹)
	- `-l`:表示以列表的形式展示内容，并展示更多信息
	- `-h`:表示以易于阅读的形式，列出文件大小，如K、M、G

> 可以组合使用，例如：`ls -lah` 或 `ls -alh` 都等同于 `ls -l -a -h`

- Linux路径是此命令可选的参数

当不使用选项和参数，直接使用ls命令本体，表示：以平铺形式，列出当前工作目录[^1]下的内容

---

### 四.目录切换相关命令

#### 1.cd命令

**`cd`命令可以更改当前的工作目录**

语法:`cd [Linux路径]`

- `cd`命令无需选项，只有参数，表示要切在哪个目录下
- `cd`命令直接执行，不写参数，**表示回到用户的Home目录**

#### 2.pwd命令

**`pwd`命令可以查看当前所在的工作目录**

语法:`pwd`

- `pwd`命令，无选项，无参数，直接输入`pwd`即可
	- 该命令可以和ls命令同时使用，详情参考**Linux命令的顺序执行**[^3]

---

### 五.相对路径、绝对路径和特殊路径符

#### 1.相对路径和绝对路径

- 绝对路径：以根目录为起点，描述路径的一种写法，路径描述以`/`为开头

	例：`cd /home/itheima/Desktop`

- 相对路径：以当前目录为起点，描述路径的一种写法，路径描述无需以`/`为开头

​	例：`cd Desktop`

#### 2.特殊路径符

- `.`    表示当前目录，比如`cd ./Desktop`表示切换到当前目录下的Desktop目录内，和`cd Desktop`效果一致，其可以与`/`连同使用[^4]
- `..`   表示上一级目录，比如：`cd .. `即可切换到上一级目录，`cd ../..`切换到**上二级目录**，其可以与路径`/`直接连接使用[^4]
- `~`    表示HOME目录，比如：`cd ~`即可切换到HOME目录或`cd ~/Desktop`，切换到HOME内的Desktop目录

---

### 六.创建目录命令

#### 1.mkdir命令

**通过mkdir命令可以创建新的目录(文件夹)**

语法：`mkdir [-p] Linux路径`

- `Linux路径`必填，即参数，指定要创建的文件夹的路径，**相对路径或绝对路径均可**
- `-p`选项可选，表示自动创建不存在的父目录，适用于创建连续多层级的目录

​	例：`mkdir -p itcast/good/666`

​	**注：其中itcast文件与good文件仅作为演示参考而专门创建的文件**

---

### 七.文件操作命令

#### 1.使用touch命令创建文件

可以通过`touch`命令创建**文件**

语法：`touch Linux路径`

- `touch`命令无选项，参数必填，表示要创建的文件路径，相对、绝对、特殊路径符均可使用

#### 2.使用cat、more和less查看文件内容

##### **(1)`cat`命令**

可以通过cat命令查看内容

语法：`cat Linux路径`

- `cat`命令没有选项，只有必填参数，参数表示：被查看文件的路径，相对、绝对、特殊路径符均可使用

##### **(2)`more`命令**

同样可以查看文件内容，**但是如果文件过多，将会一页一页地展示**

语法：`more Linux路径`

- `more`命令同样没有选项，只有必填参数，参数表示：被查看文件的路径，相对、绝对、特殊路径符均可使用
- 可以使用**`空格`**向下翻一页，**`Enter`**向下翻一行，**`q`**退出

##### (3)`less`命令

同样可以查看文件内容，如果文件过多，将会一页一页地展示，除此之外，还有向上翻页的功能

语法：`less Linux路径`

- `less`命令同样没有选项，只有必填参数，参数表示：被查看文件的路径，相对、绝对、特殊路径符均可使用
- 可以使用**`空格`**向下翻一页，**`b`**向上翻一页,**`Enter`**翻一行，**`q`**退出，**`/关键词`**搜索内容,**`Page Up/Page Down`**逐行滚动

---

### 八.文件复制、移动和删除命令

#### 1.cp命令

`cp`命令用于复制文件\文件夹

语法：`cp [-r] 参数1 参数2`

- `-r`   可选，用于复制**文件夹**的使用，表示递归
- `参数1`   Linux路径，表示被复制的文件或者文件夹
- `参数2`   Linux路径，表示要复制去的地方

#### 2.mv命令

`mv`命令可以用于移动文件\文件夹

语法：`mv 参数1 参数2`

- `参数1`   Linux路径，表示被移动的文件或者文件夹
- `参数2`   Linux路径，表示要移动去的地方，如果目标不存在，则进行改名，确保目标存在

#### 3.rm命令

`rm`命令可用于删除文件\文件夹

语法：`rm [-r -f] 参数1 参数2 ...... 参数N`

- `-r`   同`cp`命令意义，`-r`选项用于删除**文件夹**

- `-f`   表示force，强制删除(不会弹出提示确认信息)

  - 普通用户删除**只读文件**或**不存在文件**时会弹出提示，使用`-f`可强制跳过
  - root管理员用户删除内容默认不会有提示
  - > [!WARNING]
  	>
  	> **极度危险**

- `参数1`、`参数2`、……、`参数N表示要删除的文件或文件夹路径，**按照空格隔开**

---

### 九.通配符

`rm`命令支持通配符`*`,即匹配任意内容

- `text*`   表示匹配任何以`text`为开头的内容
- `*text`   表示匹配任何以`text`为结尾的内容
- `*text*`   表示匹配任何包含`text`的内容

---

### 十.Linux的root账户

#### 1.su命令

使用`su`命令可以临时切换至超级管理员用户

语法：`su - root`或`su -i`

- `su - root` 会完全切换到root环境（包括环境变量）
- 也可以使用 `sudo -i` 直接获取root shell

#### 2.exit命令

使用`exit`命令可以退回至普通用户

语法：`exit`

- 在使用完成后，输入`exit`可以直接退回普通用户
- **切记在每次使用完成后一定要退回普通用户**

#### 3.sudo命令

可以临时以root账户的身份执行命令

语法：`sudo 其它命令`

- 普通用户需要配置root认证才可以使用
- 执行`visudo`命令，然后在文件末尾添加：`用户名 ALL=(ALL)    NOPASSWD:ALL`后使用`wq`退出即可

---

### 十一.查找命令

#### 1.which命令

可以查看所使用的一系列命令的程序文件存放在哪里

语法：`which 要查找的命令`

#### 2.find命令

可以使用`find`命令去搜索指定文件

1. 语法：`find 起始路径 -name “被查找文件名”`

	​            `find 起始路径 -size +/-n[kMG]`

- `+、-`   表示大于小于
- `n`   表示大小数字
- `kMG`   表示大小单位，`k`表示`kb`,`M`表示`Mb`，`G`表示`Gb`

---

### 十二.grep、wc和管道符

#### 1.grep命令

可以通过`grep`命令，从文件中通过关键字过滤文件行

语法：`gerp [-n] 关键字 文件路径`

- `-n`   可选，表示在结果中显示匹配的行的行号
- `关键字`   必填，表示过滤的关键字，带有空格或者其它特殊符号，建议用`“ ”`将它包围起来
- `文件路径`   必填，表示要过滤内容的文件路径，**可作为内容输入端口**

#### 2.wc命令

可以通过`wc`命令统计文件的行数、单词数量等

语法：`wc [-c -m -l -w] 文件路径`

- `-c`   统计bytes数量（行数）
- `-m`   统计字符数量
- `-l`   统计行数
- `-w`   统计单词数量
- `文件路径`   被统计的文件，**可作为内容输入端口**

#### 3.管道符

可以将管道符`|`左边的命令的结果，作为右边命令的参数

语法：`命令 | 命令`

- 过程为线性处理方式，所以可以连续使用

---

### 十三.在命令行输出指定内容

#### 1.echo命令

可以使用`echo`命令在命令行中输出指定内容

语法：`echo 指定内容`

- 如果`指定内容`过于复杂(包含`\`等特殊符号)，则需使用**双引号**`“”`包围`指定内容`
- 若希望输出命令将会执行的结果，则需使用**反引号**` `` `包围命令

---

### 十四.重定向符

#### 1.>与>>命令

- `>`   将左边命令的结果，覆盖写入到右边的文件中
- `>>`   将左边命令的结果，追加写入到右边的文件中

---

### 十五.从尾部开始查找文件尾部内容并监控文件新增内容

#### 1.tail命令

使用`tail`命令可以查看文件尾部内容，并且监控文件新增内容

语法：`tail [-f -num] Linux文件路径`

- `-f`   表示持续监控跟踪
- `-num`   表示查看尾部多少行，默认为10行
- `Linux文件路径`   表示被查看的文件的位置

---

### 十六.vi\vim编辑器

#### 1.可以通过`vi` \ `vim`启动编辑器编辑文件

语法：`vi 文件路径`

语法：`vim 文件路径`

- vim兼容了vi的全部功能
- 如果目标文件不存在，则会创建一个文件进行操作
- 如果目标文件存在，则会编辑此文件

#### 2.vim编辑器的命令模式快捷键

- **i** -- 切换到输入模式，在光标当前位置开始输入文本。
- **esc** --切换到命令模式
- **x** -- 删除当前光标所在处的字符。
- **:** -- 切换到底线命令模式，以在最底一行输入命令。
- **a** -- 进入插入模式，在光标下一个位置开始输入文本。
- **o**：在当前行的下方插入一个新行，并进入插入模式。
- **O** -- 在当前行的上方插入一个新行，并进入插入模式。
- **dd** -- 剪切当前行。
- **yy** -- 复制当前行。
- **p**（小写） -- 粘贴剪贴板内容到光标下方。
- **P**（大写）-- 粘贴剪贴板内容到光标上方。
- **u** -- 撤销上一次操作。
- **Ctrl + r** -- 重做上一次撤销的操作。
- **:w** -- 保存文件。
- **:q** -- 退出 Vim 编辑器。
- **:q!** -- 强制退出Vim 编辑器，不保存修改。

---

#### 以下是脚注：

[^1]:每个Linux操作用户在Linux系统的个人账户目录，路径在：/home/用户名
[^2]:以`.`开头的，表示是Linux系统的隐藏文件/文件夹（只要以.开头，就能自动隐藏）
[^3]:Linux命令可以使用`；`和`&&`进行分隔。其中`；`是“无论前一个命令成功还是失败，都会执行下一个命令”；而`&&`是“只有前一个命令成功后才会执行下一个命令，如果中途有命令出错，则会停止运行，不再执行后面的命令”
[^4]:`./`表示”当前目录下的指定位置，如 `./project`“；`../` 表示”上一级目录下的指定位置，如 `../documents`”
